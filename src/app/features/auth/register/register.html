<main class="min-h-screen bg-background flex items-center justify-center px-4 py-8">
    <div class="w-full max-w-md">
        <div
                class="bg-white/90 backdrop-blur-sm border border-primary/10 shadow-xl rounded-3xl p-6 sm:p-8"
        >
            <header class="mb-6 text-center">
                <h1 class="text-xl sm:text-2xl font-semibold text-foreground">
                    Crear cuenta
                </h1>
                <p class="mt-2 text-xs sm:text-sm text-foreground/70">
                    Regístrate para gestionar tus reservas en MediReserva.
                </p>
            </header>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
                <div class="flex flex-col gap-1.5">
                    <label class="text-sm font-medium text-foreground" for="name">
                        Nombre
                    </label>
                    <input
                            id="name"
                            type="text"
                            formControlName="name"
                            class="w-full rounded-xl border border-foreground/10 bg-[#f9fafb] px-3 py-2.5 text-sm text-foreground outline-none
                   focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
                            placeholder="Tu nombre"
                    />
                    <p *ngIf="name?.touched && name?.invalid" class="text-xs text-red-500 mt-1">
            <span *ngIf="name?.errors?.['required']">
              El nombre es obligatorio.
            </span>
                        <span *ngIf="name?.errors?.['minlength']">
              El nombre debe tener al menos 2 caracteres.
            </span>
                    </p>
                </div>
                <div class="flex flex-col gap-1.5">
                    <label class="text-sm font-medium text-foreground" for="lastName">
                        Apellido
                    </label>
                    <input
                            id="lastName"
                            type="text"
                            formControlName="lastName"
                            class="w-full rounded-xl border border-foreground/10 bg-[#f9fafb] px-3 py-2.5 text-sm text-foreground outline-none
                   focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
                            placeholder="Tu apellido"
                    />
                    <p *ngIf="lastName?.touched && lastName?.invalid" class="text-xs text-red-500 mt-1">
            <span *ngIf="lastName?.errors?.['required']">
              El apellido es obligatorio.
            </span>
                        <span *ngIf="lastName?.errors?.['minlength']">
              El apellido debe tener al menos 2 caracteres.
            </span>
                    </p>
                </div>
                <div class="flex flex-col gap-1.5">
                    <label class="text-sm font-medium text-foreground" for="email">
                        Correo electrónico
                    </label>
                    <input
                            id="email"
                            type="email"
                            formControlName="email"
                            class="w-full rounded-xl border border-foreground/10 bg-[#f9fafb] px-3 py-2.5 text-sm text-foreground outline-none
                   focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
                            placeholder="tucorreo@medireserva.cl"
                    />
                    <p *ngIf="email?.touched && email?.invalid" class="text-xs text-red-500 mt-1">
            <span *ngIf="email?.errors?.['required']">
              El correo es obligatorio.
            </span>
                        <span *ngIf="email?.errors?.['email']">
              Ingresa un correo válido.
            </span>
                    </p>
                </div>
                <div class="flex flex-col gap-1.5">
                    <label class="text-sm font-medium text-foreground" for="password">
                        Contraseña
                    </label>
                    <input
                            id="password"
                            type="password"
                            formControlName="password"
                            class="w-full rounded-xl border border-foreground/10 bg-[#f9fafb] px-3 py-2.5 text-sm text-foreground outline-none
                   focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
                            placeholder="********"
                    />
                    <p *ngIf="password?.touched && password?.invalid" class="text-xs text-red-500 mt-1">
            <span *ngIf="password?.errors?.['required']">
              La contraseña es obligatoria.
            </span>
                        <span *ngIf="password?.errors?.['invalidPassword']">
              Debe incluir mayúsculas, minúsculas, números y un símbolo.
            </span>
                    </p>
                    <p class="text-[0.7rem] text-foreground/60">
                        Mínimo: una mayúscula, una minúscula, un número y un carácter especial.
                    </p>
                </div>

                <button
                        type="submit"
                        class="mt-2 inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-primary px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:brightness-110 transition"
                >
                    Crear cuenta
                </button>

                <p *ngIf="errorMessage" class="mt-3 text-xs text-red-500 text-center">
                    {{ errorMessage }}
                </p>

                <p class="mt-4 text-xs text-foreground/70 text-center">
                    ¿Ya tienes cuenta?
                    <a routerLink="/login" class="text-primary font-semibold hover:text-[#233b8c]">
                        Inicia sesión
                    </a>
                </p>
            </form>
        </div>
    </div>
</main>
